# =============================================================================
# Variables de Entorno - Formato Quarkus
# =============================================================================
# Copia este archivo a .env y ajusta los valores seg√∫n tu entorno
#
# Para Docker: docker run --env-file .env ...
# Para local: export $(cat .env | xargs) && java -jar target/quarkus-app/quarkus-run.jar
# =============================================================================

# Quarkus Profile
QUARKUS_PROFILE=prod

# Application
QUARKUS_APPLICATION_NAME=quarkus-message-service
QUARKUS_HTTP_PORT=8089
QUARKUS_HTTP_HOST=0.0.0.0

# =============================================================================
# PostgreSQL Reactive
# =============================================================================
QUARKUS_DATASOURCE_DB_KIND=postgresql
QUARKUS_DATASOURCE_USERNAME=postgres
QUARKUS_DATASOURCE_PASSWORD=12345
QUARKUS_DATASOURCE_REACTIVE_URL=postgresql://192.168.1.90:5432/erp_tlm_2021

# =============================================================================
# Redis Cache
# =============================================================================
QUARKUS_REDIS_HOSTS=redis://192.168.1.90:6379
QUARKUS_REDIS_TIMEOUT=10s
QUARKUS_REDIS_MAX_POOL_SIZE=20
QUARKUS_REDIS_MAX_POOL_WAITING=24

# =============================================================================
# Consul Service Discovery
# =============================================================================
CONSUL_HOST=192.168.1.90
CONSUL_PORT=8500

# =============================================================================
# Kafka
# =============================================================================
KAFKA_BOOTSTRAP_SERVERS=192.168.1.90:9092

# Schema Registry URL (global)
MP_MESSAGING_CONNECTOR_SMALLRYE_KAFKA_SCHEMA_REGISTRY_URL=http://192.168.1.90:8081

# Incoming: notification-events
MP_MESSAGING_INCOMING_NOTIFICATION_EVENTS_CONNECTOR=smallrye-kafka
MP_MESSAGING_INCOMING_NOTIFICATION_EVENTS_TOPIC=notification-events
MP_MESSAGING_INCOMING_NOTIFICATION_EVENTS_VALUE_DESERIALIZER=io.confluent.kafka.serializers.KafkaAvroDeserializer
MP_MESSAGING_INCOMING_NOTIFICATION_EVENTS_SCHEMA_REGISTRY_URL=http://192.168.1.90:8081
MP_MESSAGING_INCOMING_NOTIFICATION_EVENTS_SPECIFIC_AVRO_READER=true
MP_MESSAGING_INCOMING_NOTIFICATION_EVENTS_GROUP_ID=message-service-group
MP_MESSAGING_INCOMING_NOTIFICATION_EVENTS_AUTO_OFFSET_RESET=earliest
MP_MESSAGING_INCOMING_NOTIFICATION_EVENTS_ENABLE_AUTO_COMMIT=true

# Incoming: inbox-messages
MP_MESSAGING_INCOMING_INBOX_MESSAGES_CONNECTOR=smallrye-kafka
MP_MESSAGING_INCOMING_INBOX_MESSAGES_TOPIC=inbox-messages
MP_MESSAGING_INCOMING_INBOX_MESSAGES_BATCH=true
MP_MESSAGING_INCOMING_INBOX_MESSAGES_MAX_POLL_RECORDS=500
MP_MESSAGING_INCOMING_INBOX_MESSAGES_VALUE_DESERIALIZER=io.confluent.kafka.serializers.KafkaAvroDeserializer
MP_MESSAGING_INCOMING_INBOX_MESSAGES_SCHEMA_REGISTRY_URL=http://192.168.1.90:8081
MP_MESSAGING_INCOMING_INBOX_MESSAGES_SPECIFIC_AVRO_READER=true
MP_MESSAGING_INCOMING_INBOX_MESSAGES_GROUP_ID=message-service-group
MP_MESSAGING_INCOMING_INBOX_MESSAGES_AUTO_OFFSET_RESET=earliest
MP_MESSAGING_INCOMING_INBOX_MESSAGES_ENABLE_AUTO_COMMIT=false

# Outgoing: inbox-messages-out
MP_MESSAGING_OUTGOING_INBOX_MESSAGES_OUT_CONNECTOR=smallrye-kafka
MP_MESSAGING_OUTGOING_INBOX_MESSAGES_OUT_TOPIC=inbox-messages
MP_MESSAGING_OUTGOING_INBOX_MESSAGES_OUT_VALUE_SERIALIZER=io.confluent.kafka.serializers.KafkaAvroSerializer
MP_MESSAGING_OUTGOING_INBOX_MESSAGES_OUT_SCHEMA_REGISTRY_URL=http://192.168.1.90:8081
MP_MESSAGING_OUTGOING_INBOX_MESSAGES_OUT_AUTO_REGISTER_SCHEMAS=true

# Outgoing: notification-events-dlq
MP_MESSAGING_OUTGOING_NOTIFICATION_EVENTS_DLQ_CONNECTOR=smallrye-kafka
MP_MESSAGING_OUTGOING_NOTIFICATION_EVENTS_DLQ_TOPIC=notification-events-dlq
MP_MESSAGING_OUTGOING_NOTIFICATION_EVENTS_DLQ_VALUE_SERIALIZER=io.confluent.kafka.serializers.KafkaAvroSerializer
MP_MESSAGING_OUTGOING_NOTIFICATION_EVENTS_DLQ_SCHEMA_REGISTRY_URL=http://192.168.1.90:8081
MP_MESSAGING_OUTGOING_NOTIFICATION_EVENTS_DLQ_AUTO_REGISTER_SCHEMAS=true

# =============================================================================
# Logging
# =============================================================================
QUARKUS_LOG_LEVEL=INFO
QUARKUS_LOG_CATEGORY_ORG_WALREX_LEVEL=DEBUG
QUARKUS_LOG_CATEGORY_IO_QUARKUS_LEVEL=INFO

# =============================================================================
# Health & Monitoring
# =============================================================================
QUARKUS_SMALLRYE_HEALTH_UI_ENABLED=true

# =============================================================================
# Swagger/OpenAPI
# =============================================================================
QUARKUS_SWAGGER_UI_ALWAYS_INCLUDE=true
QUARKUS_SWAGGER_UI_PATH=/swagger-ui
